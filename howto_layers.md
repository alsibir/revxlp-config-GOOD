# Способы включения слоёв и условия активации в конфигурации раскладки ZMK revxlp

|    Номер слоя | Идентификатор слоя в конфигурации                                                | Display-name | Способы включения (прямые триггеры по bindings)                                                                                                                                                                                                 | Примечания и ограничения по текущей раскладке                                                                                                                                                                                                                                                 |
| ------------: | -------------------------------------------------------------------------------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|             0 | `qwerty_layer` (при `QWERTY_BASE`) или `colemak_dhm_layer` (иначе); `BASE_L = 0` | Base         | Автоматически (базовый слой по умолчанию)                                                                                                                                                                                                       | Переключение варианта Base (QWERTY/Colemak DHm) выполняется на этапе сборки через условную компиляцию; привязки runtime-переключения между вариантами Base отсутствуют. Возврат на Base принудительно предусмотрен на слое Mouse через `&to BASE_L` (две позиции).                            |
|             1 | `nav_layer`; `NAV_L = 1`                                                         | Nav          | Удержание `&lt NAV_L RET` на Base (тап — `RET`, удержание — Nav). Также `&lt NAV_L RET` доступна на слое Num, что позволяет включать Nav при удержании Num.                                                                                     | Отдельных привязок вида `&mo NAV_L`/`&to NAV_L` в слоях не задано; основной механизм входа — `&lt NAV_L RET`. Для устойчивой активации требуется удержание (не тап).                                                                                                                          |
|             2 | `num_layer`; `NUM_L = 2`                                                         | Num          | Удержание `&mo NUM_L` на Base. Дополнительно: на слое Nav на «большом пальце» присутствует `&mo NUM_L`, что позволяет включать Num при удержании Nav.                                                                                           | Иных привязок вида `&to NUM_L` не задано. Механизм `&mo` предполагает работу слоя только на время удержания.                                                                                                                                                                                  |
|             3 | `adjust_layer`; `MED_L = 3`                                                      | Adjust       | 1) Условное включение (tri-layer): при одновременной активности `NUM_L` и `NAV_L` (узел `cond_layers`, правило `if-layers = <NUM_L NAV_L>; then-layer = <MED_L>;`). 2) Удержание `&mo MED_L` на слое Nav. 3) Удержание `&mo MED_L` на слое Num. | Условный (tri-layer) способ реализуем: в текущих привязках сохраняется возможность одновременно удерживать `NUM_L` и `NAV_L`. При нестабильном срабатывании требуется проверка, что оба слоя удерживаются как активные (а не отрабатывают как тап), поскольку `NAV_L` включается через `&lt`. |
|             4 | `media_layer`; `FUN_L = 4`                                                       | Media        | Удержание `&mo FUN_L` на слое Adjust (в `adjust_layer` назначена клавиша `&mo FUN_L`).                                                                                                                                                          | Прямого входа в Media с Base, Nav или Num не предусмотрено. Фактический путь: включить Adjust (слой `MED_L`), затем удерживать `&mo FUN_L`.                                                                                                                                                   |
|             5 | `mouse_layer`; `MOU_L = 5`                                                       | Mouse        | Удержание `&lt MOU_L LGUI` на Base (тап — `LGUI`, удержание — Mouse). Также `&lt MOU_L LGUI` присутствует на слоях Nav и Num. Выход на Base: `&to BASE_L` (две позиции) на слое Mouse.                                                          | Слой использует `&mkp` (кнопки мыши). Для работоспособности требуется включение поддержки pointing в конфигурации прошивки (например, `CONFIG_ZMK_POINTING=y`); при изменении поддержки pointing может потребоваться обновление HID-описателя для BLE.                                        |
| 6 (неактивен) | `reserved_layer`; `status = "disabled"`; (индекс в виде макроса не задан)        | Reserved     | Не предусмотрено (привязки `bindings` отсутствуют).                                                                                                                                                                                             | Слой отключён через `status = "disabled"`. Для временного использования требуется установить `status = "okay"` и назначить привязки включения (`&mo`/`&to`) в нужные позиции; после включения слой будет располагаться после `mouse_layer` (следующий порядковый индекс).                     |
